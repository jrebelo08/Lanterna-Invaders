


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Coverage Report > LanternaGui</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">com.Carlos.spaceinvaders.gui</a>
</div>

<h1>Coverage Summary for Class: LanternaGui (com.Carlos.spaceinvaders.gui)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">LanternaGui</td>
<td class="coverageStat">
  <span class="percent">
    41.2%
  </span>
  <span class="absValue">
    (7/17)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    15.7%
  </span>
  <span class="absValue">
    (18/115)
  </span>
</td>
</tr>
  <tr>
    <td class="name">LanternaGui$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LanternaGui$MockitoMock$1004138602</td>
  </tr>
  <tr>
    <td class="name">LanternaGui$MockitoMock$1004138602$auxiliary$5R4Bznyi</td>
  </tr>
  <tr>
    <td class="name">LanternaGui$MockitoMock$1004138602$auxiliary$cBMRnXzE</td>
  </tr>
  <tr>
    <td class="name">LanternaGui$MockitoMock$1004138602$auxiliary$eODiF4sV</td>
  </tr>
  <tr>
    <td class="name">LanternaGui$MockitoMock$1004138602$auxiliary$fdbeApyU</td>
  </tr>
  <tr>
    <td class="name">LanternaGui$MockitoMock$1004138602$auxiliary$HlBFBHza</td>
  </tr>
  <tr>
    <td class="name">LanternaGui$MockitoMock$1004138602$auxiliary$i8dgoAAR</td>
  </tr>
  <tr>
    <td class="name">LanternaGui$MockitoMock$1004138602$auxiliary$IGS4wPuw</td>
  </tr>
  <tr>
    <td class="name">LanternaGui$MockitoMock$1004138602$auxiliary$j57xfhke</td>
  </tr>
  <tr>
    <td class="name">LanternaGui$MockitoMock$1004138602$auxiliary$jnsMvecZ</td>
  </tr>
  <tr>
    <td class="name">LanternaGui$MockitoMock$1004138602$auxiliary$MBUbWwGs</td>
  </tr>
  <tr>
    <td class="name">LanternaGui$MockitoMock$1004138602$auxiliary$sorbJ9mb</td>
  </tr>
  <tr>
    <td class="name">LanternaGui$MockitoMock$1004138602$auxiliary$xvhyjccy</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    36.8%
  </span>
  <span class="absValue">
    (7/19)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    15.3%
  </span>
  <span class="absValue">
    (18/118)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package com.Carlos.spaceinvaders.gui;
&nbsp;
&nbsp;import com.Carlos.spaceinvaders.model.models.PositionModel;
&nbsp;import com.google.common.base.Ascii;
&nbsp;import com.googlecode.lanterna.SGR;
&nbsp;import com.googlecode.lanterna.TerminalPosition;
&nbsp;import com.googlecode.lanterna.TerminalSize;
&nbsp;import com.googlecode.lanterna.TextColor;
&nbsp;import com.googlecode.lanterna.graphics.TextGraphics;
&nbsp;import com.googlecode.lanterna.input.KeyStroke;
&nbsp;import com.googlecode.lanterna.input.KeyType;
&nbsp;import com.googlecode.lanterna.screen.Screen;
&nbsp;import com.googlecode.lanterna.screen.TerminalScreen;
&nbsp;import com.googlecode.lanterna.terminal.DefaultTerminalFactory;
&nbsp;import com.googlecode.lanterna.terminal.Terminal;
&nbsp;import com.googlecode.lanterna.terminal.swing.AWTTerminalFontConfiguration;
&nbsp;import com.googlecode.lanterna.terminal.swing.AWTTerminalFrame;
&nbsp;
&nbsp;import java.awt.*;
&nbsp;import java.awt.event.WindowAdapter;
&nbsp;import java.awt.event.WindowEvent;
&nbsp;import java.io.IOException;
&nbsp;import java.io.InputStream;
&nbsp;
&nbsp;
<b class="fc">&nbsp;public class LanternaGui {</b>
&nbsp;
&nbsp;    private final TextGraphics graphics;
&nbsp;    Screen screen;
&nbsp;    private int width;
&nbsp;
<b class="nc">&nbsp;    public LanternaGui(int width, int height) throws IOException, FontFormatException {</b>
<b class="nc">&nbsp;        Terminal terminal = createTerminal(width, height);</b>
<b class="nc">&nbsp;        this.width = width;</b>
<b class="nc">&nbsp;        screen = createScreen(terminal);</b>
<b class="nc">&nbsp;        assert screen != null;</b>
<b class="nc">&nbsp;        graphics = createGraphics(screen);</b>
&nbsp;    }
&nbsp;
<b class="fc">&nbsp;    public LanternaGui(Screen screen) {</b>
<b class="fc">&nbsp;        this.screen = screen;</b>
<b class="fc">&nbsp;        this.graphics = screen.newTextGraphics();</b>
&nbsp;    }
&nbsp;
&nbsp;    Terminal createTerminal(int width, int height) throws IOException, FontFormatException {
<b class="nc">&nbsp;        TerminalSize terminalSize = new TerminalSize(width, height);</b>
<b class="nc">&nbsp;        DefaultTerminalFactory terminalFactory = new DefaultTerminalFactory();</b>
&nbsp;
<b class="nc">&nbsp;        AWTTerminalFontConfiguration fontConfig = fontLoader();</b>
<b class="nc">&nbsp;        terminalFactory.setTerminalEmulatorFontConfiguration(fontConfig);</b>
&nbsp;
<b class="nc">&nbsp;        terminalFactory.setForceAWTOverSwing(true);</b>
&nbsp;
<b class="nc">&nbsp;        terminalFactory.setInitialTerminalSize(terminalSize);</b>
<b class="nc">&nbsp;        Terminal terminal = terminalFactory.createTerminal();</b>
<b class="nc">&nbsp;        AWTTerminalFrame terminalFrame = (AWTTerminalFrame) terminal;</b>
<b class="nc">&nbsp;        terminalFrame.setTitle(&quot;Space Invaders&quot;);</b>
<b class="nc">&nbsp;        windowClosing(terminalFrame);</b>
<b class="nc">&nbsp;        return terminal;</b>
&nbsp;    }
&nbsp;
&nbsp;    private void windowClosing(AWTTerminalFrame terminal) {
<b class="nc">&nbsp;        terminal.addWindowListener(new WindowAdapter() {</b>
&nbsp;            @Override
&nbsp;            public void windowClosing(WindowEvent close) {
<b class="nc">&nbsp;                close.getWindow().dispose();</b>
<b class="nc">&nbsp;                System.exit(0);</b>
&nbsp;            }
&nbsp;        });
&nbsp;    }
&nbsp;
&nbsp;    private AWTTerminalFontConfiguration fontLoader() throws FontFormatException, IOException {
<b class="nc">&nbsp;        InputStream fontStream = getClass().getClassLoader().getResourceAsStream(&quot;fonts/game.ttf&quot;);</b>
<b class="nc">&nbsp;        assert fontStream != null;</b>
<b class="nc">&nbsp;        Font font = Font.createFont(Font.TRUETYPE_FONT, fontStream);</b>
<b class="nc">&nbsp;        GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();</b>
<b class="nc">&nbsp;        ge.registerFont(font);</b>
<b class="nc">&nbsp;        Font loadedFont = font.deriveFont(Font.PLAIN, 20);</b>
<b class="nc">&nbsp;        return AWTTerminalFontConfiguration.newInstance(loadedFont);</b>
&nbsp;    }
&nbsp;
&nbsp;    private Screen createScreen(Terminal terminal) {
&nbsp;        try {
<b class="nc">&nbsp;            Screen screen = new TerminalScreen(terminal);</b>
<b class="nc">&nbsp;            screen.setCursorPosition(null);</b>
<b class="nc">&nbsp;            screen.startScreen();</b>
<b class="nc">&nbsp;            screen.doResizeIfNecessary();</b>
<b class="nc">&nbsp;            return screen;</b>
<b class="nc">&nbsp;        } catch (IOException e) {</b>
<b class="nc">&nbsp;            System.err.println(&quot;Error creating screen: &quot; + e.getMessage());</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;    }
&nbsp;    public String getUserInput() throws IOException {
<b class="fc">&nbsp;        KeyStroke keyStroke = screen.pollInput();</b>
<b class="fc">&nbsp;        String ch = &quot;&quot;;</b>
<b class="fc">&nbsp;        if (keyStroke == null) return null;</b>
<b class="nc">&nbsp;        if (keyStroke.getKeyType() == KeyType.EOF) return &quot;Quit&quot;;</b>
<b class="nc">&nbsp;        if (keyStroke.getKeyType() == KeyType.Escape) return &quot;Escape&quot;;</b>
<b class="nc">&nbsp;        if (keyStroke.getKeyType() == KeyType.Character) {</b>
<b class="nc">&nbsp;            char character = keyStroke.getCharacter();</b>
<b class="nc">&nbsp;            if (character == &#39;q&#39; || character == &#39;Q&#39;) return &quot;Quit&quot;;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (keyStroke.getKeyType() == KeyType.ArrowUp) return &quot;ArrowUp&quot;;</b>
<b class="nc">&nbsp;        if (keyStroke.getKeyType() == KeyType.ArrowRight) return &quot;ArrowRight&quot;;</b>
<b class="nc">&nbsp;        if (keyStroke.getKeyType() == KeyType.ArrowDown) return &quot;ArrowDown&quot;;</b>
<b class="nc">&nbsp;        if (keyStroke.getKeyType() == KeyType.ArrowLeft) return &quot;ArrowLeft&quot;;</b>
<b class="nc">&nbsp;        if (keyStroke.getKeyType() == KeyType.Enter) return &quot;Enter&quot;;</b>
<b class="nc">&nbsp;        if (keyStroke.getKeyType() == KeyType.Backspace) return &quot;BackSpace&quot;;</b>
<b class="nc">&nbsp;        if (keyStroke.getKeyType() == KeyType.Character &amp;&amp; keyStroke.getCharacter() == &#39; &#39;) return &quot;Space&quot;;</b>
<b class="nc">&nbsp;        if (keyStroke.getKeyType() != KeyType.Character) {</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
<b class="nc">&nbsp;        return ch + Ascii.toUpperCase(Character.toString(keyStroke.getCharacter()));</b>
&nbsp;
&nbsp;    }
&nbsp;    private TextGraphics createGraphics(Screen screen) {
<b class="nc">&nbsp;        return screen.newTextGraphics();</b>
&nbsp;    }
&nbsp;
&nbsp;
&nbsp;    public void drawText(PositionModel position, String string, TextColor.RGB rgbColor) {
<b class="fc">&nbsp;        drawText(position, string, rgbColor, false);</b>
&nbsp;    }
&nbsp;
&nbsp;    public void drawText(PositionModel position, String string, TextColor.RGB rgbColor, boolean bold) {
<b class="fc">&nbsp;        if (string == null) {</b>
<b class="fc">&nbsp;            throw new NullPointerException(&quot;String cannot be null&quot;);</b>
&nbsp;        }
<b class="fc">&nbsp;        if (rgbColor == null) {</b>
<b class="fc">&nbsp;            throw new NullPointerException(&quot;Color cannot be null&quot;);</b>
&nbsp;        }
<b class="fc">&nbsp;        if (bold)</b>
<b class="fc">&nbsp;            graphics.enableModifiers(SGR.BOLD);</b>
<b class="fc">&nbsp;        graphics.setForegroundColor(rgbColor);</b>
<b class="fc">&nbsp;        graphics.putString(position.getX(), position.getY(), string);</b>
&nbsp;    }
&nbsp;
&nbsp;    public void drawRectangleName(LanternaGui gui, TextColor.RGB rgbColor){
<b class="nc">&nbsp;        for (int col = 30; col &lt;= 44; col++) {</b>
<b class="nc">&nbsp;            gui.drawText(new PositionModel(col, 17), &quot;-&quot;, rgbColor, false);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        for (int row = 18; row == 18; row++) {</b>
<b class="nc">&nbsp;            gui.drawText(new PositionModel(29, row), &quot;|&quot;, rgbColor, false);</b>
<b class="nc">&nbsp;            gui.drawText(new PositionModel(45, row), &quot;|&quot;, rgbColor, false);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        for (int col = 30; col &lt;= 44; col++) {</b>
<b class="nc">&nbsp;            gui.drawText(new PositionModel(col, 19), &quot;-&quot;, rgbColor, false);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public void screenClear() {
<b class="nc">&nbsp;        screen.clear();</b>
<b class="nc">&nbsp;        graphics.setBackgroundColor(TextColor.Factory.fromString(&quot;#010327&quot;));</b>
<b class="nc">&nbsp;        graphics.fillRectangle(new TerminalPosition(0, 0), screen.getTerminalSize(), &#39; &#39;);</b>
&nbsp;    }
&nbsp;
&nbsp;    public void screenRefresh() throws IOException {
<b class="fc">&nbsp;        screen.refresh();</b>
&nbsp;    }
&nbsp;
&nbsp;
&nbsp;    public void drawTitle(String string) {
&nbsp;        int startPoint;
<b class="nc">&nbsp;        if(string.length() == 522){</b>
<b class="nc">&nbsp;            startPoint = (width - 64) / 2;</b>
&nbsp;
<b class="nc">&nbsp;            String[] lines = string.split(&quot;\n&quot;);</b>
<b class="nc">&nbsp;            int y = 2;</b>
<b class="nc">&nbsp;            for (String line : lines) {</b>
<b class="nc">&nbsp;                drawText(new PositionModel(startPoint, y), line, new TextColor.RGB(178, 73, 210),Boolean.TRUE);</b>
<b class="nc">&nbsp;                y++;</b>
&nbsp;            }
&nbsp;
&nbsp;
<b class="nc">&nbsp;        }else if(string.length() == 279){</b>
<b class="nc">&nbsp;            startPoint = (width - 56) / 2;</b>
&nbsp;
<b class="nc">&nbsp;            String[] lines = string.split(&quot;\n&quot;);</b>
<b class="nc">&nbsp;            int y = 5;</b>
<b class="nc">&nbsp;            for (String line : lines) {</b>
<b class="nc">&nbsp;                drawText(new PositionModel(startPoint, y), line, new TextColor.RGB(178, 73, 210),Boolean.TRUE);</b>
<b class="nc">&nbsp;                y++;</b>
&nbsp;            }
<b class="nc">&nbsp;        }</b>
&nbsp;        else{
<b class="nc">&nbsp;            startPoint = (width - 39) / 2;</b>
&nbsp;
<b class="nc">&nbsp;            String[] lines = string.split(&quot;\n&quot;);</b>
<b class="nc">&nbsp;            int y = 5;</b>
<b class="nc">&nbsp;            for (String line : lines) {</b>
<b class="nc">&nbsp;                drawText(new PositionModel(startPoint, y), line, new TextColor.RGB(178, 73, 210),Boolean.TRUE);</b>
<b class="nc">&nbsp;                y++;</b>
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;    }
&nbsp;    public void drawTextSelected(PositionModel position, String entryName) {
<b class="nc">&nbsp;        int width = entryName.length() + 2;</b>
<b class="nc">&nbsp;        int height = 3;</b>
&nbsp;
<b class="nc">&nbsp;        graphics.setForegroundColor(TextColor.Factory.fromString(&quot;#00FF00&quot;));</b>
<b class="nc">&nbsp;        graphics.putString(position.getX()-1, position.getY()-1, &quot;+&quot;);</b>
<b class="nc">&nbsp;        for (int i = 1; i &lt; width - 1; i++) {</b>
<b class="nc">&nbsp;            graphics.putString(position.getX() - 1 + i, position.getY() - 1, &quot;-&quot;);</b>
&nbsp;        }
<b class="nc">&nbsp;        graphics.putString(position.getX() - 1 + width - 1, position.getY() - 1, &quot;+&quot;);</b>
&nbsp;
<b class="nc">&nbsp;        graphics.setForegroundColor(TextColor.Factory.fromString(&quot;#00FF00&quot;));</b>
<b class="nc">&nbsp;        graphics.putString(position.getX() - 1, position.getY() - 1 + 1, &quot;|&quot;);</b>
<b class="nc">&nbsp;        graphics.setForegroundColor(new TextColor.RGB(0, 255 ,0));</b>
<b class="nc">&nbsp;        graphics.putString(position.getX() - 1 + 1, position.getY() - 1 + 1, entryName);</b>
<b class="nc">&nbsp;        graphics.setForegroundColor(TextColor.Factory.fromString(&quot;#00FF00&quot;));</b>
<b class="nc">&nbsp;        graphics.putString(position.getX() - 1 + width - 1, position.getY() - 1 + 1, &quot;|&quot;);</b>
&nbsp;
<b class="nc">&nbsp;        graphics.putString(position.getX() - 1, position.getY() - 1 + height - 1, &quot;+&quot;);</b>
<b class="nc">&nbsp;        for (int i = 1; i &lt; width - 1; i++) {</b>
<b class="nc">&nbsp;            graphics.putString(position.getX() - 1 + i, position.getY() - 1 + height - 1, &quot;-&quot;);</b>
&nbsp;        }
<b class="nc">&nbsp;        graphics.putString(position.getX() - 1 + width - 1, position.getY() - 1 + height - 1, &quot;+&quot;);</b>
&nbsp;    }
&nbsp;    public TextGraphics getGraphics() {
<b class="fc">&nbsp;        return graphics;</b>
&nbsp;    }
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2023-12-23 00:04</div>
</div>
</body>
</html>
